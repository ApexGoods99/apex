<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Goods | Workflow Simulation</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #0f172a; color: #fff; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 2rem; }
        
        .container { width: 100%; max-width: 600px; }
        .header { text-align: center; margin-bottom: 2rem; }
        .title { color: #38bdf8; font-weight: bold; letter-spacing: 1px; text-transform: uppercase; font-size: 0.9rem; }
        h1 { font-size: 1.8rem; margin: 0.5rem 0; }
        
        /* SCENARIO BOX (The Problem) */
        .scenario-box { background: #1e293b; border-radius: 12px; padding: 1.5rem; border: 1px solid #334155; margin-bottom: 2rem; position: relative; }
        .label { font-size: 0.7rem; color: #94a3b8; text-transform: uppercase; margin-bottom: 5px; display: block; }
        .messy-text { font-family: 'Courier New', monospace; color: #cbd5e1; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; border-left: 3px solid #ef4444; }
        
        /* AGENT PROCESS VISUALIZER */
        .process-flow { display: none; margin-bottom: 2rem; }
        .agent-step { display: flex; align-items: center; margin-bottom: 10px; opacity: 0; transform: translateX(-10px); transition: 0.5s; }
        .agent-step.active { opacity: 1; transform: translateX(0); }
        .dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 15px; }
        .agent-name { font-weight: bold; width: 120px; font-size: 0.9rem; }
        .agent-action { color: #94a3b8; font-size: 0.9rem; font-style: italic; }

        /* THE RESULT (The Solution) */
        .result-card { display: none; background: #fff; color: #0f172a; border-radius: 4px; padding: 2rem; box-shadow: 0 0 40px rgba(56, 189, 248, 0.2); animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative; }
        .result-header { display: flex; justify-content: space-between; border-bottom: 2px solid #0f172a; padding-bottom: 10px; margin-bottom: 1rem; }
        .invoice-title { font-weight: 800; font-size: 1.2rem; }
        .stamp { position: absolute; top: 20px; right: 20px; color: #ef4444; border: 2px solid #ef4444; padding: 5px 10px; font-weight: bold; transform: rotate(-10deg); font-size: 0.8rem; opacity: 0.2; }
        .stamp.approved { color: #16a34a; border-color: #16a34a; opacity: 1; transform: rotate(-10deg) scale(1.1); transition: 0.3s; }

        .data-row { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9rem; }
        .total-row { display: flex; justify-content: space-between; margin-top: 1rem; padding-top: 10px; border-top: 1px dashed #ccc; font-weight: bold; font-size: 1.1rem; }

        /* CONTROLS */
        .btn { background: #38bdf8; color: #000; padding: 12px 30px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 1rem; width: 100%; transition: 0.2s; }
        .btn:hover { background: #7dd3fc; }
        .approve-btn { background: #16a34a; color: #fff; margin-top: 1rem; display: none; }

        @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <div class="title">Apex Synthetic Workflow</div>
            <h1>The "Nightmare" Text</h1>
            <p style="color: #94a3b8; font-size: 0.9rem;">Scenario: A contractor sends a messy text for payment.</p>
        </div>

        <div class="scenario-box">
            <span class="label">Incoming Unstructured Data (SMS)</span>
            <div class="messy-text">
                "Yo boss finished the plumbing at 450 Highland apt 4B. Needed a $45 part plus 2 hrs labor. Send check to Mike via Zelle thx."
            </div>
        </div>

        <button class="btn" onclick="runSimulation()" id="runBtn">ðŸš€ ACTIVATE AGENT LOOP</button>

        <div class="process-flow" id="flow">
            <div class="agent-step" id="step1">
                <div class="dot" style="background: #a78bfa;"></div>
                <div class="agent-name">PLANNER</div>
                <div class="agent-action">Identified: Expense Request, Vendor 'Mike', Loc '450 Highland'</div>
            </div>
            <div class="agent-step" id="step2">
                <div class="dot" style="background: #38bdf8;"></div>
                <div class="agent-name">EXECUTOR</div>
                <div class="agent-action">Drafting Invoice #9901. Calculating ($45 + $50x2).</div>
            </div>
            <div class="agent-step" id="step3">
                <div class="dot" style="background: #34d399;"></div>
                <div class="agent-name">AUDITOR</div>
                <div class="agent-action">Price check: PASSED. Vendor check: PASSED.</div>
            </div>
        </div>

        <div class="result-card" id="result">
            <div class="stamp" id="stamp">PENDING APPROVAL</div>
            <div class="result-header">
                <div class="invoice-title">PAYMENT VOUCHER</div>
                <div>#9901</div>
            </div>
            <div class="data-row"><span>Payee:</span> <strong>Mike's Plumbing</strong></div>
            <div class="data-row"><span>Property:</span> <strong>450 Highland Ave, Unit 4B</strong></div>
            <div class="data-row"><span>Category:</span> <strong>Maintenance (R&M)</strong></div>
            <div class="data-row"><span>Notes:</span> 2hrs Labor + Parts</div>
            
            <div class="total-row">
                <span>TOTAL:</span>
                <span>$145.00</span>
            </div>

            <button class="btn approve-btn" onclick="approve()" id="approveBtn">âœ… AUTHORIZE PAYMENT</button>
        </div>
    </div>

    <script>
        function runSimulation() {
            document.getElementById('runBtn').style.display = 'none';
            document.getElementById('flow').style.display = 'block';

            // Sequence the agents
            setTimeout(() => { document.getElementById('step1').classList.add('active'); }, 500);
            setTimeout(() => { document.getElementById('step2').classList.add('active'); }, 1500);
            setTimeout(() => { document.getElementById('step3').classList.add('active'); }, 2500);
            
            // Show Result
            setTimeout(() => { 
                document.getElementById('result').style.display = 'block'; 
                document.getElementById('approveBtn').style.display = 'block';
            }, 3500);
        }

        function approve() {
            const stamp = document.getElementById('stamp');
            stamp.innerText = "APPROVED";
            stamp.classList.add('approved');
            document.getElementById('approveBtn').style.display = 'none';
            alert("HITL Protocol: Payment Authorized by User.");
        }
    </script>

</body>
</html>
